(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{YLK4:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return m})),r.d(t,"renderToDom",(function(){return b}));var n=r("rePB"),o=r("dI71"),c=r("q1tI"),i=r("i8i4"),a=r("+qjn"),s=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){return c.createElement("div",{className:"control-panel"},c.createElement("h3",null,"Create and Style Clusters"),c.createElement("p",null,"Use Mapbox GL JS' built-in functions to visualize points as clusters."),c.createElement("div",{className:"source-link"},c.createElement("a",{href:"https://github.com/visgl/react-map-gl/tree/5.2-release/examples/clusters",target:"_new"},"View Code â†—")))},t}(c.PureComponent),u={id:"clusters",type:"circle",source:"earthquakes",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]}},l={id:"cluster-count",type:"symbol",source:"earthquakes",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}},p={id:"unclustered-point",type:"circle",source:"earthquakes",filter:["!",["has","point_count"]],paint:{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"}};function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={viewport:{latitude:40.67,longitude:-103.59,zoom:3,bearing:0,pitch:0}},t._sourceRef=c.createRef(),t._onViewportChange=function(e){return t.setState({viewport:e})},t._onClick=function(e){var r=e.features[0],n=r.properties.cluster_id;t._sourceRef.current.getSource().getClusterExpansionZoom(n,(function(e,n){e||t._onViewportChange(d(d({},t.state.viewport),{},{longitude:r.geometry.coordinates[0],latitude:r.geometry.coordinates[1],zoom:n,transitionDuration:500}))}))},t}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.state.viewport;return c.createElement(a.default,Object.assign({},e,{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/dark-v9",onViewportChange:this._onViewportChange,mapboxApiAccessToken:"",interactiveLayerIds:[u.id],onClick:this._onClick}),c.createElement(a.Source,{type:"geojson",data:"https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson",cluster:!0,clusterMaxZoom:14,clusterRadius:50,ref:this._sourceRef},c.createElement(a.Layer,u),c.createElement(a.Layer,l),c.createElement(a.Layer,p)),c.createElement(s,{containerComponent:this.props.containerComponent}))},t}(c.Component);function b(e){Object(i.render)(c.createElement(m,null),e)}}}]);